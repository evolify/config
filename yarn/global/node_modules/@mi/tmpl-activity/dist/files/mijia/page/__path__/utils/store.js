import React, { useContext } from "react"

const Context = React.createContext()

const getProvider = useStore => ({ children }) => {
  const store = useStore()
  return <Context.Provider value={store}>{children}</Context.Provider>
}

function useCtx() {
  return useContext(Context)
}

export default function createStore(useStore) {
  return {
    Provider: getProvider(useStore),
    useCtx
  }
}
